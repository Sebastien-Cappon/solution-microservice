<div class="container">
    <div class="matCardWrapper">
        <mat-card *ngIf="factors$ | async as factors">
            <mat-card-header>
                <mat-card-title background-color="primary">
                    <h1>Risk factor list</h1>
                </mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <mat-list>
                    <mat-list-item *ngFor="let factor of factors">
                        <div>{{ factor.term }}</div>
                        <div><button class="deleteButton" *ngIf="!isLoading" (click)="onDeleteFactor(factor.id)" [disabled]="isLoading"><mat-icon>clear</mat-icon></button></div>
                    </mat-list-item>
                </mat-list>
                <div class="emptyObservableDiv" *ngIf="factors.length == 0">The factor list is empty.</div>
            </mat-card-content>

            <mat-card-actions>
                <mat-form-field color="primary">
                    <mat-label>New factor</mat-label>
                    <input matInput type="text" [formControl]="newFactorTermCtrl">
                    <mat-error>Factor term required</mat-error>
                </mat-form-field>
                <button mat-icon-button color="primary" (click)="onAddNewFactor()"
                    [disabled]="newFactorTermCtrl.invalid"><mat-icon matSuffix>add</mat-icon></button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>