<div class="container">
    <div class="matCardWrapper">
        <mat-card *ngIf="person$ | async as person">
            <mat-card-header>
                <mat-card-title background-color="primary">
                    <h1><span style="text-transform: uppercase;">{{ person.lastname }}</span> {{ person.firstname }}</h1>
                </mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>Personal data</mat-panel-title>
                            <mat-panel-description>Gender, identity, address and contact informations</mat-panel-description>
                        </mat-expansion-panel-header>
                        <app-person-profile [currentPersonId]="personId" [currentPerson]="person"></app-person-profile>
                    </mat-expansion-panel>

                    <mat-expansion-panel id="notePanel">
                        <mat-expansion-panel-header>
                            <mat-panel-title>Notes history</mat-panel-title>
                            <mat-panel-description>List of observation notes</mat-panel-description>
                        </mat-expansion-panel-header>
                        <app-note-list [currentPersonId]="personId"></app-note-list>
                    </mat-expansion-panel>
                </mat-accordion>
            </mat-card-content>

            <mat-card-actions>
                <button mat-stroked-button color="warn" (click)="onBack()">Back</button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>